(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{22147:function(e,t,r){"use strict";var n=r(59499),a=r(4730),i=r(67294),s=r(25675),o=r.n(s),l=r(93303),c=r(19521),u=r(85893),d=["src","useImgTag","layout","className"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=c.ZP.div.withConfig({displayName:"LBImage__Wrapper",componentId:"sc-lf51gx-0"})(["position:relative;overflow:hidden;img{overflow:hidden;}"]);function m(e){var t=e.src,r=e.width,n=e.quality,a=void 0===n?100:n;return"".concat(t).concat(t.indexOf("?")>=0?"&":"?","w=").concat(r,"&q=").concat(a)}var g=function(e){var t,r=e.src,n=e.useImgTag,i=void 0!==n&&n,s=e.layout,c=e.className,f=void 0===c?"":c,g=(0,a.default)(e,d),x=null===(t=(0,l.OB)())||void 0===t?void 0:t.jicHost,_=r;r&&"string"===typeof r&&!r.startsWith("http")&&(_=x+r);var v=s;if(e.width||e.height||(v="fill"),i)return(0,u.jsx)("img",h(h({},g),{},{src:_,className:f}));var b={width:e.width,height:e.height};return f||e.height||(b={width:"100%",height:"100%"}),(0,u.jsx)(p,{className:f,style:b,children:_&&(0,u.jsx)(o(),h(h({loader:m},g),{},{src:_,layout:v}))})};t.Z=i.memo(g)},77231:function(e,t,r){"use strict";var n=r(59499),a=r(4730),i=r(67294),s=r(97248),o=r(33162),l=r.n(o),c=r(85893),u=["type","maxLength","placeholder","disabled","className","style","valueClassName","valueStyle","prefix","suffix","errorMessage","customErrorMessage","errorMessageClassName","value","onFocus","onChange","onBlur","clearable","customClear","tooltip","align"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e){var t=e.type,r=void 0===t?"text":t,n=e.maxLength,o=e.placeholder,d=e.disabled,h=e.className,p=void 0===h?"":h,m=e.style,g=e.valueClassName,x=void 0===g?"":g,_=e.valueStyle,v=e.prefix,b=e.suffix,j=e.errorMessage,y=e.customErrorMessage,k=e.errorMessageClassName,w=e.value,N=e.onFocus,O=e.onChange,P=e.onBlur,C=e.clearable,S=void 0!==C&&C,A=e.customClear,L=e.tooltip,Z=e.align,T=(0,a.default)(e,u),D=(0,i.useRef)(),E=(0,i.useState)("normal"),I=E[0],F=E[1],M=S&&w&&!d,U=!!b||M,H=A||(0,c.jsx)("span",{className:l()["lbk-input-suffix-clear"],onClick:function(){O("")},children:(0,c.jsx)(s.Z,{type:"a-PresetStroke2",className:l()["lbk-input-suffix-clear-icon"]})}),R="string"===typeof b?(0,c.jsx)("span",{children:b}):b,W=!d&&!j&&!y,B=d?"disabled":j||y?"error":I;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{style:m,className:"".concat(l()["lbk-input"]," ").concat(p||""),"data-status":B,onClick:function(e){e.stopPropagation(),!d&&D.current.focus()},children:[v&&(0,c.jsx)("span",{className:l()["lbk-input-prefix"],children:v}),(0,c.jsx)("input",f({ref:D,type:r,maxLength:n,style:_,className:"".concat(l()["lbk-input-value"]," ").concat(x||""),placeholder:o,value:void 0===w?"":w,disabled:d,onFocus:function(){W&&F("focus"),N&&N()},onBlur:function(){W&&F("normal"),P&&P()},onChange:function(e){var t=e.target.value;O&&O(t)},"data-align":Z},T)),U&&(0,c.jsxs)("span",{className:l()["lbk-input-suffix"],children:[M?H:null,R]}),L&&(0,c.jsx)("div",{className:l()["lbk-input-tooltip"],children:L}),y?null:(0,c.jsx)("div",{className:"".concat(l()["lbk-input-error"]," ").concat(k||""),"data-visible":!!j,children:j})]}),y?"string"!==typeof y?y:(0,c.jsx)("div",{className:"".concat(l()["lbk-input-error-custom"]," ").concat(k||""),"data-visible":!!y,children:y}):null]})};t.Z=(0,i.memo)(h)},75347:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return re},default:function(){return ne}});var n=r(67294),a=r(11163),i=r(9696),s=r(90116),o=r(59499),l=r(17674),c=r(94087),u=r(55382),d=r(54768),f=r(1178),h=r(73619),p=r(63835),m=r(77985),g=r(41664),x=r.n(g),_=r(97248),v=r(46485),b=r(39308),j=r(16273),y=r(22147),k=r(59423),w=r.n(k),N=r(85893),O=[63,240,200,150,150,150,150,97];function P(e){return"/trade/".concat(e.symbol.replace("/","_"))}var C,S=function(e){var t=e.lgt,r=void 0===t?"lgt":t,n=e.lgtSymbol,a=e.followHandle,i=e.sortInfo,s=e.changeSort,o=e.t;return[{key:"x1",title:(0,N.jsx)("div",{}),render:function(e){return(0,N.jsx)("div",{className:w()["follow-icon"],"data-follow":e.isFollow,children:e.isFollow?(0,N.jsx)(_.Z,{type:"a-PresetSolid3",onClick:function(){return a(e)}}):(0,N.jsx)(_.Z,{type:"a-PresetStrokeAdd",onClick:function(){return a(e)}})})}},{key:"symbol",title:(0,N.jsx)(j.Z,{dir:"left",sortInfo:i,type:"symbol",onClick:s,children:o("L0003494\u4ea4\u6613\u5bf9")}),render:function(e){return(0,N.jsx)(x(),{href:P(e),children:(0,N.jsxs)("a",{className:"".concat(w()["asset-code"]," ").concat(w()["text-left"]),target:"_blank",children:[(0,N.jsx)(y.Z,{src:e.icon,alt:"asset",className:w().icon}),e.symbolAlias,e.isEtf&&(0,N.jsx)("span",{className:"tips-etf",children:"ETF"})]})})}},{key:"latest",title:(0,N.jsx)(j.Z,{dir:"left",sortInfo:i,type:"latest",onClick:s,children:o("L0005987\u6700\u65b0\u4ef7")}),render:function(e){return(0,N.jsxs)("div",{className:w()["text-left"],children:[(0,N.jsx)("span",{className:e.change>0?"g-light-green":"g-light-red",children:e.latest}),!e.isALTS&&(0,N.jsxs)("span",{children:[" ","/ ",n,(0,b.advancedNumberFormatter)((0,v.getAllPrice)(e.latest)[null===r||void 0===r?void 0:r.toLocaleLowerCase()])]}),e.isALTS&&e.num&&(0,N.jsxs)("span",{children:[" ","/ ",(0,N.jsxs)("span",{className:"g-light-green",children:[e.num,"%"]})]})]})}},{key:"change",title:(0,N.jsx)(j.Z,{dir:"right",sortInfo:i,type:"change",onClick:s,children:o("L000439424H\u6da8\u8dcc\u5e45")}),render:function(e){return(0,N.jsxs)("div",{className:"".concat(w().change," ").concat(e.change>0?"g-light-green":"g-light-red"),children:[(0,N.jsxs)("span",{children:[e.change,"%"]}),(0,N.jsx)(_.Z,{className:w()["change-icon"],type:e.change>0?"a-DirectionUpSolidON":"a-DirectionDownSolidON"})]})}},{key:"highest",title:(0,N.jsx)(j.Z,{dir:"right",sortInfo:i,type:"highest",onClick:s,children:o("L000003424H\u6700\u9ad8\u4ef7")}),value:"highest",render:function(e){return(0,N.jsx)("div",{className:w()["high-price"],children:e.highest})}},{key:"lowest",title:(0,N.jsx)(j.Z,{dir:"right",sortInfo:i,type:"lowest",onClick:s,children:o("L000003524H\u6700\u4f4e\u4ef7")}),value:"lowest",render:function(e){return(0,N.jsx)("div",{className:w()["low-price"],children:e.lowest})}},{key:"amount",title:(0,N.jsx)(j.Z,{dir:"right",sortInfo:i,type:"amount",onClick:s,children:o("L000431524H\u6210\u4ea4\u989d")}),render:function(e){return(0,N.jsx)("div",{className:w()["text-right"],children:(0,b.advancedNumberFormatter)(e.amount,2)})}},{key:"ope",title:(0,N.jsx)("div",{className:w().operate,"data-key":"",children:o("L0002044\u64cd\u4f5c")}),render:function(e){return(0,N.jsx)("div",{className:w()["text-right"],children:(0,N.jsx)(x(),{href:P(e),children:(0,N.jsx)("a",{className:w()["btn-opera"],target:"_blank",children:(0,N.jsx)(_.Z,{type:"transaction"})})})})}}].map((function(e,t){return O[t]&&(e.width=O[t]),e}))},A=function(e){var t=e.loading,r=e.lgt,a=e.lgtSymbol,i=e.isLogin,s=e.dataSource,o=e.sortInfo,l=e.changeSort,c=e.changeTradeArea,g=e.current,x=e.changePage,_=(0,h.default)().t,v=(0,n.useCallback)((function(e){var t=e.isFollow,r=e.symbol.replace("/","_");t?(0,u.r7)({tradePair:r}).then((function(e){0===e.status?(c(),f.default.success({message:_("L0002630\u5220\u9664\u81ea\u9009\u6210\u529f")})):f.default.error({message:e.msg})})):(0,u.Gg)({tradePair:r}).then((function(e){0===e.status?(c(),f.default.success({message:_("L0003379\u6dfb\u52a0\u81ea\u9009\u6210\u529f")})):f.default.error({message:e.msg})}))}),[c,_]),b=function(e){i?v(e):(0,p.goToNewLogin)()},j=(0,m.d)(s.length,g),y=j.total,k=j.start,O=j.end,P=s.slice(k,O),C=(0,n.useMemo)((function(){return S({lgt:r,lgtSymbol:a,followHandle:b,sortInfo:o,changeSort:l,t:_})}),[r,a,b,o,l,_]);return(0,N.jsx)(d.Z,{loading:t,className:w()["market-table"],rowClassName:w()["market-row"],columns:C,dataSource:P,pagination:{current:g,total:y,onChange:x,align:"center"}})},L=n.memo(A),Z=r(40497),T=r.n(Z),D=function(e){var t=e.tradeAreas,r=e.tradeArea,n=e.isLogin,i=(0,a.useRouter)(),s=(0,h.default)().t,o=function(){var e=t.map((function(e){return{mark:e,markUpper:e.toUpperCase(),hide:!1}}));return e.unshift({mark:"follow",markUpper:s("L0000040\u81ea\u9009"),hide:!n}),e}();return(0,N.jsx)("ul",{className:T()["trade-area"],children:o.map((function(e){return(0,N.jsxs)("li",{className:T()["trade-area-item"],"data-selected":r===e.mark,"data-hide":e.hide,onClick:function(){return r!==e.mark&&i.push(e.mark)},children:["GAMEFI"===e.markUpper&&(0,N.jsx)("span",{children:"\ud83d\udd25"}),e.markUpper]},e.mark)}))})},E=n.memo(D),I=r(77020),F=r.n(I),M=function(e){var t=e.tradeArea,r=e.activeTag,n=e.changeTag,a=e.lang,i=e.assetPartitions,s=e.tradeAreaPartitions,o=(0,h.default)().t,l=function(){var e=[];return s[t]&&(e=i.filter((function(e){return s[t].includes(e.id)}))),e.length>0&&e.unshift({nameZh:o("L0000183\u5168\u90e8"),id:"all",nameEn:"All"}),e}();return l&&0!==l.length?(0,N.jsx)("div",{className:F().tags,children:l.map((function(e){return(0,N.jsx)("p",{className:F()["tags-item"],"data-selected":r===e.id,onClick:function(){return r!==e.id&&n&&n(e.id)},children:"zh-TW"===a?e.nameZh:e.nameEn},e.id)}))}):null},U=n.memo(M),H=r(77231),R=r(53068),W=r.n(R),B=function(e){var t=e.value,r=e.onChange,n=(0,h.default)().t;return(0,N.jsx)("div",{className:W().search,children:(0,N.jsx)(H.Z,{placeholder:n("L0000903\u641c\u7d22"),clearable:!0,valueClassName:W()["search-input"],value:t,prefix:(0,N.jsx)(_.Z,{type:"search",className:W()["search-icon"]}),onChange:r})})},q=n.memo(B),G=r(87075),X=r(97523),J=r(96905),K=r.n(J),Q=r(8890);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y="follow",$=function(e){var t=e.isDataReady,r=e.tradeArea,a=e.tradeAreas,i=e.assetPartitions,o=e.tradeAreaPartitions,d=e.hiddenPairs,f=(0,c.useLBContext)(),h=f.lang,p=f.isLogin,m=f.lgt,g=f.lgtSymbol,x=f.assetInfo,_=(0,n.useState)(!1),v=_[0],b=_[1],j=(0,n.useState)("all"),y=j[0],k=j[1],w=(0,n.useState)(""),O=w[0],P=w[1],S=(0,n.useState)([]),A=S[0],Z=S[1],T=(0,n.useState)(),D=T[0],I=T[1],F=(0,G.Z)(),M=(0,l.Z)(F,3),H=M[0],R=M[1],W=M[2],B=(0,n.useState)(1),J=B[0],V=B[1],$=(0,n.useRef)(r),ee=function(e,t){var r;return(null===e||void 0===e||null===(r=e[t])||void 0===r?void 0:r.alias)||t},te=function(e){var t,r=e.split("/"),n=ee(x,r[0]),a=ee(x,r[1]);return{assetAlias:n,postAlias:a,symbolAlias:"".concat(n,"/").concat(a).toUpperCase(),icon:(null===(t=x[n])||void 0===t?void 0:t.svg)||""}},re=function e(t,r){var n=[(0,u.pj)({symbol:t})];p&&n.push((0,u.ye)().then((function(e){return e.status===Q.qR?{}:e}))),!r&&b(!0),Promise.all(n).then((function(n){var a=(0,l.Z)(n,2),i=a[0],s=a[1];if(t===$.current){C=setTimeout((function(){e(t,!0)}),5e3),!r&&b(!1);var o=[];if(s&&0===s.status&&(o=s.dataWrapper.tradePairs),0===i.status){var c=i.data.map((function(e){var t=te(e.s);return z(z(z({},e),t),{},{latest:e.c,change:e.ch,highest:e.h,lowest:e.l,amount:e.a,symbol:e.s,isFollow:o.includes(e.s)})}));Z(W(c))}}})).catch((function(e){!r&&b(!1)}))},ne=function e(t,r){!r&&b(!0),(0,u.pE)({assetCode:t}).then((function(n){if(t===$.current){C=setTimeout((function(){e(t,!0)}),5e3),!r&&b(!1);var a=n.dataWrapper.data.map((function(e){var t=te(e.symbol);return z(z(z({},e),t),{},{latest:e.lastPrice,change:e.change,highest:e.highPrice,lowest:e.lowPrice,amount:e.vol,price:e.lastPrice,isFollow:!0})}));Z(W(a))}}))},ae=(0,n.useCallback)((function(){C&&(clearTimeout(C),C=null),r===Y?ne(r):re(r),"alts"!==r||D||(0,u.Dc)().then((function(e){0===e.status&&I(e.dataWrapper.data)}))}),[r,x,D]);(0,n.useEffect)((function(){return t&&[].concat((0,s.default)(a),[Y]).includes(r)&&Object.keys(x).length>0&&(k("all"),V(1),ae(r),$.current=r),function(){clearTimeout(C),C=null}}),[r,x]);var ie=(0,n.useMemo)((function(){var e=A;return e=e.map((function(e){return z(z({},e),{},{activeName:r,isALTS:"alts"===r,num:D?D[e.assetAlias]:""})})),"follow"!==r&&(e=e.filter((function(e){return!d.includes(e.symbol.replace("/","_"))}))),O&&(e=e.filter((function(e){return e.symbol.toLowerCase().includes(O.toLowerCase())}))),"all"!==y&&(e=e.filter((function(e){var t=e.symbol.split("/")[0],r=e.symbol.split("/")[1];return x[t]&&x[t].partitionIds&&x[t].partitionIds[r]&&x[t].partitionIds[r].includes(y)}))),W(e)}),[H,A,O,y,r,D]);return(0,N.jsxs)("div",{className:K().market,children:[(0,N.jsx)(X.Z,{activeTab:"exchange"}),(0,N.jsxs)("div",{className:K()["market-header"],children:[(0,N.jsx)("div",{className:K()["market-header-l"],children:(0,N.jsx)(E,{isLogin:p,tradeAreas:a,tradeArea:r})}),(0,N.jsx)("div",{className:K()["market-header-r"],children:(0,N.jsx)(q,{value:O,onChange:P})})]}),(0,N.jsx)("div",{children:(0,N.jsx)(U,{tradeArea:r,activeTag:y,changeTag:k,lang:h,assetPartitions:i,tradeAreaPartitions:o})}),(0,N.jsx)(L,{loading:v,dataSource:ie,lgt:m,lgtSymbol:g,isLogin:p,sortInfo:H,changeSort:R,changeTradeArea:ae,current:J,changePage:V})]})},ee=n.memo($),te=r(4659),re=!0,ne=function(e){var t=e.isDataReady,r=e.tradeAreas,n=void 0===r?[]:r,s=e.assetPartitions,o=void 0===s?[]:s,l=e.tradeAreaPartitions,c=void 0===l?[]:l,u=e.hiddenPairs,d=void 0===u?[]:u,f=(0,a.useRouter)().query.area;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(te.Z,{area:f}),(0,N.jsx)(i.Z,{type:"quotes"}),(0,N.jsx)(ee,{isDataReady:t,tradeArea:f,tradeAreas:n,assetPartitions:o,tradeAreaPartitions:c,hiddenPairs:d})]})}},54801:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/market/[area]",function(){return r(75347)}])},33162:function(e){e.exports={"lbk-input":"index_lbk-input__Rpf7_","lbk-input-prefix":"index_lbk-input-prefix__P7ywc","lbk-input-suffix":"index_lbk-input-suffix__n25XL","lbk-input-suffix-clear":"index_lbk-input-suffix-clear__KOlCH","lbk-input-suffix-clear-icon":"index_lbk-input-suffix-clear-icon__NAj7J","lbk-input-value":"index_lbk-input-value__oH2dG","lbk-input-error":"index_lbk-input-error__8rkKc","lbk-input-error-custom":"index_lbk-input-error-custom__kWCVY","lbk-input-tooltip":"index_lbk-input-tooltip__gjL__"}},53068:function(e){e.exports={"search-input":"index_search-input__ok7UA","search-icon":"index_search-icon__GutN2"}},59423:function(e){e.exports={"text-left":"index_text-left__0M8lp","text-right":"index_text-right__E5l4e","market-table":"index_market-table__W9Bc9","market-row":"index_market-row__HpD4F","btn-opera":"index_btn-opera__LbeZl","follow-icon":"index_follow-icon__hQNVR","asset-code":"index_asset-code__mkT0J","high-price":"index_high-price__mjJjj","low-price":"index_low-price__2ZBkA",icon:"index_icon__Cj0_q",change:"index_change__2I_6o","change-icon":"index_change-icon__MUUlr",operate:"index_operate__osbCy"}},77020:function(e){e.exports={tags:"index_tags__ok_Qh","tags-item":"index_tags-item__vch_X"}},40497:function(e){e.exports={"trade-area":"index_trade-area__6c1ii","trade-area-item":"index_trade-area-item___9S1P"}},96905:function(e){e.exports={market:"index_market__vZsHe",tabs:"index_tabs__WNVUi","tabs-item":"index_tabs-item__QOMDk","market-header":"index_market-header__gpWrz","market-header-l":"index_market-header-l__15Bfy","market-header-r":"index_market-header-r__KUS3S"}}},function(e){e.O(0,[6351,5675,3012,3678,4768,4928,9774,2888,179],(function(){return t=54801,e(e.s=t);var t}));var t=e.O();_N_E=t}]);