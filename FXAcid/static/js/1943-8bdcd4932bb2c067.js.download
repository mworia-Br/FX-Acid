(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1943],{89838:function(e,r,t){"use strict";var n=t(59499),i=t(4730),c=t(67294),o=t(77231),a=t(85893),s=["precision","min","max","onChange","align"];function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){(0,n.default)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.Z=function(e){var r=e.precision,t=void 0===r?0:r,n=e.min,l=void 0===n?Number.MIN_SAFE_INTEGER:n,f=e.max,m=void 0===f?Number.MAX_SAFE_INTEGER:f,d=e.onChange,g=e.align,p=void 0===g?"right":g,h=(0,i.default)(e,s),v=(0,c.useCallback)((function(e){if("number"===typeof(c=t)&&!isNaN(c)){if(""===e)return void(d&&d(e));var r=l<0;if(r&&"-"===e)return void(d&&d(e));var n=r?"-?":"",i=Math.max(0,parseInt(t,10));(i<=0?new RegExp("^".concat(n,"[1-9]\\d*$")):new RegExp("^".concat(n,"\\d*\\.?\\d{0,").concat(i,"}$"))).test(e)&&(+e>=l||0===+e)&&+e<=m&&d&&d(e)}var c}),[t,d]);return(0,a.jsx)(o.Z,u(u({},h),{},{align:p,onChange:function(e){return v(e)}}))}},93612:function(e,r,t){"use strict";var n=t(67294),i=t(83624),c=t(62729),o=t.n(c),a=t(85893);r.Z=(0,n.memo)((function(e){var r=e.style,t=e.className,c=void 0===t?"":t,s=e.baseline,l=e.labelStyle,u=e.labelClassName,f=void 0===u?"":u,m=e.defaultChecked,d=e.checked,g=e.label,p=e.onChecked,h=(0,n.useState)(m),v=h[0],P=h[1];return(0,n.useEffect)((function(){(0,i.JY)(d)&&P(d)}),[d]),(0,a.jsxs)("div",{style:r,className:"".concat(o()["lbk-radio"]," ").concat(c," ").concat(s?o().baseline:""),onClick:function(){var e=!v;(0,i.JY)(d)||P(e),p&&p(e)},children:[v?(0,a.jsxs)("svg",{className:"".concat(o()["lbk-radio-icon"]," ").concat(o().checked),viewBox:"0 0 14 15",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4167 7.5C13.4167 11.0438 10.5438 13.9167 7 13.9167C3.45617 13.9167 0.583333 11.0438 0.583333 7.5C0.583333 3.95617 3.45617 1.08333 7 1.08333C10.5438 1.08333 13.4167 3.95617 13.4167 7.5ZM14 7.5C14 11.366 10.866 14.5 7 14.5C3.13401 14.5 0 11.366 0 7.5C0 3.63401 3.13401 0.5 7 0.5C10.866 0.5 14 3.63401 14 7.5ZM7 13.0417C10.0606 13.0417 12.5417 10.5606 12.5417 7.5C12.5417 4.43942 10.0606 1.95833 7 1.95833C3.93942 1.95833 1.45833 4.43942 1.45833 7.5C1.45833 10.5606 3.93942 13.0417 7 13.0417Z"}),(0,a.jsx)("path",{className:o().fill,fillRule:"evenodd",clipRule:"evenodd",d:"M10.5795 5.08709C10.7846 5.29211 10.7846 5.62452 10.5795 5.82955L6.49621 9.91288C6.29118 10.1179 5.95877 10.1179 5.75374 9.91288L4.00374 8.16288C3.79872 7.95786 3.79872 7.62545 4.00374 7.42042C4.20877 7.2154 4.54118 7.2154 4.74621 7.42042L6.12498 8.79919L9.83708 5.08709C10.0421 4.88206 10.3745 4.88206 10.5795 5.08709Z"})]}):(0,a.jsxs)("svg",{className:o()["lbk-radio-icon"],viewBox:"0 0 14 15",children:[(0,a.jsx)("circle",{cx:"6.99992",cy:"6.99998",r:"4.66667",fill:"black",fillOpacity:"0.1"}),(0,a.jsx)("mask",{id:"path-2-inside-1_6165_16316",fill:"white",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 13.4167C10.5438 13.4167 13.4167 10.5438 13.4167 7C13.4167 3.45617 10.5438 0.583333 7 0.583333C3.45617 0.583333 0.583333 3.45617 0.583333 7C0.583333 10.5438 3.45617 13.4167 7 13.4167ZM7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14Z"})}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 13.4167C10.5438 13.4167 13.4167 10.5438 13.4167 7C13.4167 3.45617 10.5438 0.583333 7 0.583333C3.45617 0.583333 0.583333 3.45617 0.583333 7C0.583333 10.5438 3.45617 13.4167 7 13.4167ZM7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14Z",fill:"black"}),(0,a.jsx)("path",{d:"M12.4167 7C12.4167 9.99154 9.99154 12.4167 7 12.4167V14.4167C11.0961 14.4167 14.4167 11.0961 14.4167 7H12.4167ZM7 1.58333C9.99154 1.58333 12.4167 4.00846 12.4167 7H14.4167C14.4167 2.90389 11.0961 -0.416667 7 -0.416667V1.58333ZM1.58333 7C1.58333 4.00846 4.00846 1.58333 7 1.58333V-0.416667C2.90389 -0.416667 -0.416667 2.90389 -0.416667 7H1.58333ZM7 12.4167C4.00846 12.4167 1.58333 9.99154 1.58333 7H-0.416667C-0.416667 11.0961 2.90389 14.4167 7 14.4167V12.4167ZM13 7C13 10.3137 10.3137 13 7 13V15C11.4183 15 15 11.4183 15 7H13ZM7 1C10.3137 1 13 3.68629 13 7H15C15 2.58172 11.4183 -1 7 -1V1ZM1 7C1 3.68629 3.68629 1 7 1V-1C2.58172 -1 -1 2.58172 -1 7H1ZM7 13C3.68629 13 1 10.3137 1 7H-1C-1 11.4183 2.58172 15 7 15V13Z",fill:"white",fillOpacity:"0.3",mask:"url(#path-2-inside-1_6165_16316)"})]}),g&&(0,a.jsx)("span",{style:l,className:f,children:g})]})}))},30510:function(e,r){"use strict";r.Z={SHEET:"sheet",COIN:"coin",coinToSheet:function(e){var r=e.volume,t=void 0===r?"--":r,n=e.price,i=void 0===n?1:n,c=e.symbol;if("--"===t)return t;var o=c.VolumeMultiple||1;return c.IsInverse?t*i/o:t/o},sheetToCoin:function(e){var r=e.volume,t=void 0===r?"--":r,n=e.price,i=void 0===n?1:n,c=e.symbol;if("--"===t)return t;var o=c.VolumeMultiple||1;return c.IsInverse?t*o/i:t*o},transferVolumeForUnit:function(e,r){return e===this.SHEET?r.volume:this.sheetToCoin(r)}}},4066:function(e,r,t){"use strict";var n=t(20212);var i={open:function(e,r,t,i){n.Wd.open({width:400,title:e,content:r,onOk:function(){return null===t||void 0===t?void 0:t()},onCancel:function(){return null===i||void 0===i?void 0:i()}})}};r.Z=i},65741:function(e,r,t){"use strict";var n=t(50029),i=t(87794),c=t.n(i),o=t(2484),a=t(93612),s=t(20212),l=t(1178),u=t(69348),f=t(30510),m=t(69374),d=t(1783),g=t(42626),p=t(64336),h=t.n(p),v=t(85893);var P={open:function(e,r,t,i,p,P,T){var x=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},b=x.VolumeWithVariableUnit,y=function(){var e=(0,n.default)(c().mark((function e(){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete i.extend,e.t0=t,e.next=e.t0===u.Dy.LIMIT?4:e.t0===u.Dy.PLAN?6:e.t0===u.Dy.STOP_PROFIT_LOSS?8:13;break;case 4:return r=g.DW,e.abrupt("break",13);case 6:return r=g.aY,e.abrupt("break",13);case 8:return r=g.iv,void 0!==i.TPTriggerPrice&&(i.CloseTPTriggerPrice=i.TPTriggerPrice,delete i.TPTriggerPrice),void 0!==i.SLTriggerPrice&&(i.CloseSLTriggerPrice=i.SLTriggerPrice,delete i.SLTriggerPrice),void 0!==i.TriggerPriceType&&(i.CloseTriggerPriceType=i.TriggerPriceType,delete i.TriggerPriceType),e.abrupt("break",13);case 13:return e.prev=13,e.next=16,r(i);case 16:n=e.sent,P&&P(n),l.default.success({message:(0,m.t)("L0005440\u4e0b\u5355\u6210\u529f")}),e.next=25;break;case 21:e.prev=21,e.t1=e.catch(13),T&&T(e.t1),l.default.error({message:"".concat((0,m.t)("L0005441\u4e0b\u5355\u5931\u8d25")).concat(e.t1.errorMsg?", ".concat(e.t1.errorMsg):"")});case 25:case"end":return e.stop()}}),e,null,[[13,21]])})));return function(){return e.apply(this,arguments)}}();if(e.confirm){var N=i.extend,L=N.volumeUnitType===f.Z.SHEET,O=(0,d.formatValue)(p,"PricePrecision",0),j=L?(0,d.formatValue)(p,"VolumePrecision",0):(0,d.formatValue)(p,"CoinPrecision",0),C=(0,d.formatValue)(p,"OtherPrecision",0),_=p.PriceCurrency,D=p.ClearCurrency,S=L?(0,m.t)("L0007152\u5f20"):(0,d.formatValue)(p,"BaseCurrency"),w=p.PriceCurrency,k=function(){var e=N.showVolume,r=S,t=j;return b&&(N.volumeMode!==u.kh.PERCENT&&(e=b.value),r=b.unit,b.unit===w&&(t=O)),(0,v.jsxs)("span",{className:h().value,children:[i.OffsetFlag===u.TN.CLOSE_ALL?"".concat((0,m.t)("L0000183\u5168\u90e8")):"".concat(N.volumeMode===u.kh.PERCENT?"".concat(e,"% "):(0,d.formatDecimal)(e,t)),"\xa0",r]})},M=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(o.Z,{className:h()["contract-exchange-confirm-modal-symbol"],children:[(0,v.jsx)("span",{children:p.InstrumentID}),(0,v.jsx)("span",{className:"".concat(h()["contract-exchange-confirm-modal-tag"]," ").concat(i.Direction===u.Nm.BUY?h()["buy-rise-border-background-opacity-10"]:h()["sell-fail-border-background-opacity-10"]," ").concat(i.Direction===u.Nm.BUY?h()["buy-rise-color"]:h()["sell-fail-color"]),children:(0,u.eQ)(i,r,m.t)})]}),t===u.Dy.PLAN&&(0,v.jsxs)(o.Z,{className:h()["contract-exchange-confirm-modal-row"],children:[(0,v.jsx)("span",{children:(0,m.t)("L0000737\u89e6\u53d1\u4ef7")}),(0,v.jsxs)("span",{className:h().value,children:[(0,d.formatDecimal)(i.TriggerPrice,O),"\xa0",_]})]}),(0,v.jsxs)(o.Z,{className:h()["contract-exchange-confirm-modal-row"],children:[(0,v.jsx)("span",{children:(0,m.t)("L0000038\u4ef7\u683c")}),(0,v.jsx)("span",{className:h().value,children:i.OrderPriceType===u.FT.LIMIT?"".concat((0,d.formatDecimal)(i.Price,O)," ").concat(_):u.FT.transfer(i.OrderPriceType,m.t)})]}),(0,v.jsxs)(o.Z,{className:h()["contract-exchange-confirm-modal-row"],children:[(0,v.jsx)("span",{children:(0,m.t)("L0000283\u6570\u91cf")}),(0,v.jsx)(k,{})]}),t!==u.Dy.PLAN&&i.OffsetFlag===u.TN.OPEN&&(0,v.jsxs)(o.Z,{className:h()["contract-exchange-confirm-modal-row"],children:[(0,v.jsx)("span",{children:(0,m.t)("L0001058\u4fdd\u8bc1\u91d1")}),(0,v.jsxs)("span",{className:h().value,children:[(0,d.formatDecimal)((0,d.formatValue)(N,"margin",C)),"\xa0",D]})]}),t!==u.Dy.PLAN&&i.OffsetFlag===u.TN.OPEN&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(o.Z,{className:h()["contract-exchange-confirm-modal-row"],children:[(0,v.jsx)("span",{children:(0,m.t)("L0007165\u6b62\u76c8")}),(0,v.jsxs)("span",{className:h().value,children:[(0,d.formatDecimal)((0,d.formatValue)(i,"TPTriggerPrice"),O),"\xa0",_]})]}),(0,v.jsxs)(o.Z,{className:h()["contract-exchange-confirm-modal-row"],children:[(0,v.jsx)("span",{children:(0,m.t)("L0007167\u6b62\u635f")}),(0,v.jsxs)("span",{className:h().value,children:[(0,d.formatDecimal)((0,d.formatValue)(i,"SLTriggerPrice"),O),"\xa0",_]})]})]}),"none"!==e.display&&(0,v.jsx)(o.Z,{style:{paddingTop:32},children:(0,v.jsx)(a.Z,{label:(0,m.t)("L0007197\u4e0d\u518d\u63d0\u9192"),onChecked:function(r){e.setOrderConfirm(!r)}})})]});s.Wd.open({width:400,title:(0,m.t)("L0001066\u4e0b\u5355\u786e\u8ba4"),content:M,onOk:function(){return y()}})}else y()}};r.Z=P},15143:function(e,r,t){"use strict";var n=t(50029),i=t(87794),c=t.n(i),o=t(67294),a=t(2484),s=t(20212),l=t(1178),u=t(69374),f=t(69348),m=t(98436),d=t(1783),g=t(42626),p=t(64336),h=t.n(p),v=t(13547),P=t(47096),T=t(85893),x="order_board",b="position",y="current_limit_order",N=function(e){var r=e.from,t=e.positionType,n=e.symbol,i=e.symbolMarket,c=e.data,s=(e.markets,e.onStopProfitTriggerPriceChange),l=e.onStopLossTriggerPriceChange,g=e.onTriggerPriceTypeChange,p=(0,o.useState)(c.TPTriggerPrice||""),P=p[0],y=p[1],N=(0,o.useState)(c.SLTriggerPrice||""),L=N[0],O=N[1],j=(0,o.useState)(c.triggerPriceType||f.Hr.LAST),C=j[0],_=j[1],D=(0,d.formatValue)(n,"VolumePrecision",0),S=(0,d.formatValue)(n,"PricePrecision",0),w=(0,d.formatValue)(n,"PriceCurrency"),k=i.MarkedPrice,M=(0,o.useMemo)((function(){return"position"===r?c.PosiDirection===m.Nm.NET?c.Direction===f.Nm.BUY?f.X7.OPEN:f.X7.CLOSE:c.PosiDirection===m.Nm.LONG?f.X7.OPEN:f.X7.CLOSE:c.Direction===f.Nm.BUY?f.X7.OPEN:f.X7.CLOSE}),[r,c]),I=(0,o.useMemo)((function(){var e=1,t=1;return("position"===r?c.PosiDirection===m.Nm.LONG:c.Direction===f.Nm.BUY)?e=Number(c.Leverage):t=Number(c.Leverage),{long:e,short:t}}),[c]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(a.Z,{className:h()["contract-exchange-confirm-modal-symbol"],children:[(0,T.jsx)("span",{children:n.InstrumentID}),r!==x&&function(){var e=r===b,n=c.Direction===f.Nm.BUY,i=e?(0,m.Xy)(c,u.t):(0,f.eQ)(c,t,u.t);return(0,T.jsx)("span",{className:"".concat(h()["contract-exchange-confirm-modal-tag"]," ").concat(n?h()["buy-rise-border-background-opacity-10"]:h()["sell-fail-border-background-opacity-10"]," ").concat(n?h()["buy-rise-color"]:h()["sell-fail-color"]),children:i})}()]}),(0,T.jsxs)("div",{style:{marginBottom:40},children:[(0,T.jsxs)(a.Z,{className:h()["contract-exchange-confirm-modal-row"],children:[(0,T.jsx)("span",{children:r===b?(0,u.t)("L0007157\u5f00\u4ed3\u5747\u4ef7"):(0,u.t)("L0002319\u59d4\u6258\u4ef7")}),(0,T.jsx)("span",{className:h().value,children:r===b?"".concat((0,d.formatDecimal)(c.OpenPrice,S)||"--"," ").concat(w):c.OrderPriceType===f.FT.LIMIT?"".concat((0,d.formatDecimal)(c.Price,S)," ").concat(w):f.FT.transfer(c.OrderPriceType,u.t)})]}),(0,T.jsxs)(a.Z,{style:{marginBottom:10},className:h()["contract-exchange-confirm-modal-row"],children:[(0,T.jsx)("span",{children:(0,u.t)("L0005987\u6700\u65b0\u4ef7")}),(0,T.jsxs)("span",{className:h().value,children:[(0,d.formatDecimal)((0,d.formatValue)(i,"LastPrice"),S),"\xa0",w]})]}),(0,T.jsxs)(a.Z,{className:h()["contract-exchange-confirm-modal-row"],children:[(0,T.jsx)("span",{children:(0,u.t)("L0001524\u6807\u8bb0\u4ef7")}),(0,T.jsx)("span",{className:h().value,children:"".concat((0,d.formatDecimal)(k,S)||"--"," ").concat(w)})]})]}),(0,T.jsx)(v.ZP,{price:Number("position"===r?c.OpenPrice:c.Price),volume:Number("position"===r?c.Position:c.Volume),isStopLimit:M,buyMaxVolume:0,sellMaxVolume:0,levers:I,tpTriggerPrice:P,setTpTriggerPrice:function(e){y(e),s(e)},slTriggerPrice:L,setSlTriggerPrice:function(e){O(e),l(e)},triggerPriceType:C,setTriggerPriceType:function(e){_(e),g(e)},pricePrecision:S,volumePrecision:D,priceUnit:w})]})};var L={open:function(e,r,t,i,o,a,m,p){var h=t.TPTriggerPrice||"",L=t.SLTriggerPrice||"",O=t.triggerPriceType||f.Hr.LAST;s.Wd.open({width:400,title:(0,u.t)("L0000740\u6b62\u76c8\u6b62\u635f"),content:(0,T.jsx)(N,{from:e,positionType:r,symbol:i,symbolMarket:o,markets:a,data:t,onStopProfitTriggerPriceChange:function(e){h=e},onStopLossTriggerPriceChange:function(e){L=e},onTriggerPriceTypeChange:function(e){O=e}}),onOk:function(){switch(e){case x:m&&m({tpTriggerPrice:h,slTriggerPrice:L});break;case b:if(h||L){var r=t.Direction===f.Nm.BUY?f.Nm.SELL:f.Nm.BUY,s={InstrumentID:t.InstrumentID,ExchangeID:t.ExchangeID,Direction:r,OffsetFlag:f.TN.CLOSE_ALL,OrderType:f.Bx.NORMAL,TradeUnitID:t.TradeUnitID,TriggerOrderType:f.yP.POSITION_STOP_PROFIT_LOSS,TriggerPriceType:O};h&&(s.TPTriggerPrice=Number(h)),L&&(s.SLTriggerPrice=Number(L)),t.TradeUnitID&&(s.TradeUnitID=t.TradeUnitID);var T=(0,d.formatValue)(a,i.InstrumentID,{}).MarkedPrice||0,N=o.LastPrice||0,j=O===f.Hr.LAST?N:T;(0,P.Vo)("position",j,s,t.Direction).then((function(){if(!h&&!L||!(0,v.gN)(j,h,L,t.Direction,!0))return Promise.reject();var e=function(){var e=(0,n.default)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,g.aY)(s);case 3:l.default.success({message:(0,u.t)("L0007213\u6b62\u76c8\u6b62\u635f\u8bbe\u7f6e\u6210\u529f")}),m&&m(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),l.default.error({message:"".concat((0,u.t)("L0007333\u6b62\u76c8\u6b62\u635f\u8bbe\u7f6e\u5931\u8d25")).concat(e.t0.errorMsg?", ".concat(e.t0.errorMsg):"")}),p&&p();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return e()}))}break;case y:if(h||L){var C,_=(0,d.formatValue)(a,i.InstrumentID,{}).MarkedPrice||0,D=o.LastPrice||0,S=O===f.Hr.LAST?D:_,w={TriggerOrderType:f.yP.ORDER_STOP_PROFIT_LOSS,TriggerPriceType:O};return t.TPTriggerPrice||t.SLTriggerPrice?(w.OrderSysID=t.OrderSysID,C=g.CM):(w.RelatedOrderSysID=t.OrderSysID,w.InstrumentID=t.InstrumentID,w.ExchangeID=t.ExchangeID,C=g.aY),h&&(w.TPTriggerPrice=Number(h)),L&&(w.SLTriggerPrice=Number(L)),t.TradeUnitID&&(w.TradeUnitID=t.TradeUnitID),(0,P.Vo)("order",t.Price,w,t.Direction).then((function(){if(!h&&!L||!(0,v.gN)(S,h,L,t.Direction,!0))return Promise.reject();var e=function(){var e=(0,n.default)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(w);case 3:l.default.success({message:(0,u.t)("L0007213\u6b62\u76c8\u6b62\u635f\u8bbe\u7f6e\u6210\u529f")}),m&&m(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),l.default.error({message:"".concat((0,u.t)("L0007333\u6b62\u76c8\u6b62\u635f\u8bbe\u7f6e\u5931\u8d25")).concat(e.t0.errorMsg?", ".concat(e.t0.errorMsg):"")}),p&&p();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return e()}))}}}})},FROM_ORDER_BOARD:x,FROM_POSITION:b,FROM_CURRENT_LIMIT_ORDER:y};r.Z=L},13547:function(e,r,t){"use strict";t.d(r,{gN:function(){return T}});var n=t(4826),i=t.n(n),c=t(89838),o=t(67294),a=t(69348),s=t(2484),l=t(43883),u=t(1178),f=t(69374),m=t(31088),d=t(44092),g=t(1783),p=t(85893),h="%",v="USDT",P=function(e){var r=e.value,t=e.onClick;return(0,p.jsxs)(s.Z,{gap:8,style:{marginBottom:16},children:[(0,p.jsx)(l.Z,{type:r===a.Hr.LAST?"secondary":"tertiary",onClick:function(){return t(a.Hr.LAST)},className:i().button,children:(0,f.t)("L0001122\u6700\u65b0")}),(0,p.jsx)(l.Z,{type:r===a.Hr.MARK?"secondary":"tertiary",onClick:function(){return t(a.Hr.MARK)},className:i().button,children:(0,f.t)("L0001229\u6807\u8bb0")})]})},T=function(e,r,t,n,i){var c=i?(0,f.t)("L0007770\u6b62\u76c8\u6b62\u635f\u8bbe\u7f6e\u5931\u8d25\u4e70\u5165\u505a\u591a\u65b9\u5411\u4e0b"):(0,f.t)("L0007769\u60a8\u8f93\u5165\u7684\u89e6\u53d1\u4ef7\u683c\u4f1a\u5bfc\u81f4\u6b62\u76c8\u6b62\u635f");if(n===a.Nm.BUY){if(""!==r&&Number(r)<Number(e)||""!==t&&Number(t)>Number(e))return u.default.error({message:c}),!1}else if(""!==r&&Number(r)>Number(e)||""!==t&&Number(t)<Number(e))return u.default.error({message:c}),!1;return!0},x=function(e){var r=e.value,t=e.onChange;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(m.Z,{className:i().select,selectorClassName:i()["select-selector"],dropDownContainerStyle:{borderRadius:2},dropDownRowClassName:i()["select-drop-down-row"],dataSource:[{key:h,text:h},{key:v,text:v}],trigger:"click",arrow:(0,p.jsx)(d.Eh,{className:i()["select-selector-arrow"]}),value:r,onSelected:t})})},b=(0,o.forwardRef)((function(e,r){var t=e.disablePercent,n=e.price,s=e.volume,l=e.isStopLimit,u=e.buyMaxVolume,m=e.sellMaxVolume,d=e.tpTriggerPrice,T=e.slTriggerPrice,b=e.setTpTriggerPrice,y=e.setSlTriggerPrice,N=e.pricePrecision,L=e.volumePrecision,O=void 0===L?2:L,j=e.levers,C=e.triggerPriceType,_=e.setTriggerPriceType,D=(0,o.useState)("USDT"),S=D[0],w=D[1],k=(0,o.useState)("USDT"),M=k[0],I=k[1],E=(0,o.useState)(d),Z=E[0],V=E[1],R=(0,o.useState)(T),U=R[0],B=R[1],F=(0,o.useMemo)((function(){return l===a.X7.OPEN}),[l]);(0,o.useImperativeHandle)(r,(function(){return{reset:function(){V(""),B("")}}}));var Y=(0,o.useMemo)((function(){if(String(s).includes(h)){var e=Number(s.replace(h,""))/100;return F?e*u:e*m}return s}),[u,m,s,F]),H=function(e,r){var t=Number(e)/100,i=Number(n),c="tp"===r;return 0===t?"":F?c?i+i/j.long*t:i-i/j.long*t:c?i-i/j.short*t:i+i/j.short*t},A=function(e,r){if("tp"===r)if(V(e),S===h){var t=(0,g.formatDecimal)(H(e,r),N,"floor",!0);b(t)}else b(e);else if(B(e),M===h){var n=(0,g.formatDecimal)(H(e,r),N,"floor",!0);y(n)}else y(e)},W=function(e,r){var t=e.key;"sl"===r?I(t):w(t)};(0,o.useEffect)((function(){A(U,"sl")}),[M,l,j,n]),(0,o.useEffect)((function(){A(Z,"tp")}),[S,l,j,n]);var X=(0,o.useCallback)((function(e){if(!n)return(0,f.t)("L0008276\u8bf7\u8f93\u5165\u8ba2\u5355\u4ef7\u683c");if(!s)return(0,f.t)("L0008277\u8bf7\u8f93\u5165\u5408\u7ea6\u6570\u91cf");var r="";if("tp"===e)if(S===h){var t=F?n*Y*(Z/100)/j.long:n*Y*(Z/100)/j.short;r=(0,f.t)("L0008278\u6b62\u76c8\u4ef7\u683c\u9884\u671f\u6536\u76caUSDT",{0:d?(0,g.formatDecimal)(d,N,"floor"):0,1:d?(0,g.formatDecimal)(t,2,"floor"):0})}else{var i=(0,g.formatDecimal)(F?(d-n)*Y:(n-d)*Y,2,"floor"),c="".concat((0,g.formatDecimal)(F?100*(d-n)/(n/j.long):100*(n-d)/(n/j.short),2,"floor"),"%");r=(0,f.t)("L0008279\u9884\u671f\u6536\u76ca\u7387\u9884\u671f\u6536\u76caUSDT",{0:d?c:"0%",1:d?i:0})}else if(M===h){var o=F?-1*n*Y*(U/100)/j.long:-1*n*Y*(U/100)/j.short;r=(0,f.t)("L0008280\u6b62\u635f\u4ef7\u683c\u9884\u671f\u6536\u76caUSDT",{0:T?(0,g.formatDecimal)(T,N,"floor"):0,1:T?(0,g.formatDecimal)(o,2,"floor"):0})}else{var a="".concat((0,g.formatDecimal)(F?100*(T-n)/(n/j.long):100*(n-T)/(n/j.short),2,"floor"),"%"),l=F?(T-n)*Y:(n-T)*Y;r=(0,f.t)("L0008281\u9884\u671f\u6536\u76ca\u7387\u9884\u671f\u6536\u76caUSDT",{0:T?a:"0%",1:T?(0,g.formatDecimal)(l,2,"floor"):0})}return r}),[N,O,j,n,s,F,S,M,T,d,Z,U,l]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(P,{value:C,onClick:_}),(0,p.jsxs)("div",{className:i()["stop-limit"],children:[(0,p.jsx)(c.Z,{style:{marginBottom:t?8:0},className:i()["contract-exchange-confirm-modal-input"],valueStyle:{textAlign:"right"},min:0,precision:S===h?2:N,prefix:S===h?(0,f.t)("L0008274\u6b62\u76c8\u7387"):(0,f.t)("L0007164\u6b62\u76c8\u89e6\u53d1\u4ef7"),suffix:t?v:(0,p.jsx)(x,{value:S,onChange:function(e){return W(e,"tp")}}),value:Z,onChange:function(e){return A(e,"tp")}}),!t&&(0,p.jsx)("div",{className:i()["stop-limit-helper"],style:{marginTop:4,marginBottom:16},children:X("tp")}),(0,p.jsx)(c.Z,{className:i()["contract-exchange-confirm-modal-input"],valueStyle:{textAlign:"right"},min:0,precision:M===h?2:N,prefix:M===h?(0,f.t)("L0008275\u6b62\u635f\u7387"):(0,f.t)("L0007166\u6b62\u635f\u89e6\u53d1\u4ef7"),suffix:t?v:(0,p.jsx)(x,{value:M,onChange:function(e){return W(e,"sl")}}),value:U,onChange:function(e){return A(e,"sl")}}),!t&&(0,p.jsx)("div",{className:i()["stop-limit-helper"],style:{marginTop:4,marginBottom:16},children:X("sl")})]})]})}));r.ZP=(0,o.memo)(b)},47096:function(e,r,t){"use strict";t.d(r,{RY:function(){return g},Vo:function(){return h},b2:function(){return d},jk:function(){return m}});var n=t(50029),i=t(87794),c=t.n(i),o=t(69348),a=t(69374),s=t(1783),l=t(1178),u=t(13547),f=function(){var e=(0,n.default)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.default.error({message:r}),e.abrupt("return",Promise.reject());case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),m=function(e){var r=e.currentSymbol,t=e.currentSymbolMarket,n=e.params,i=e.orderTab,c=e.priceType,l=e.openCloseTab,u=e.direction,m=l===o.TN.OPEN&&u===o.Nm.BUY||l===o.TN.CLOSE&&u===o.Nm.BUY,d=r.PriceLimitUpperValue||0,g=r.PriceLimitLowerValue||0,p=Number((null===t||void 0===t?void 0:t.MarkedPrice)||0),h=(null===r||void 0===r?void 0:r.PricePrecision)||0;if(i===o.uD||i===o.b6)if(m){var v=p+p*d;if(n.Price>v)return console.warn("maxPrice",v),f((0,a.t)("L0009315\u4e0b\u5355\u5931\u8d25\u4ef7\u683c\u4e0d\u5f97\u9ad8\u4e8e",{0:(0,s.formatDecimal)(v,h)}))}else{var P=p-p*g;if(n.Price<P)return console.warn("minPrice",P),f((0,a.t)("L0009316\u4e0b\u5355\u5931\u8d25\u4ef7\u683c\u4e0d\u5f97\u4f4e\u4e8e",{0:(0,s.formatDecimal)(P,h,"ceil")}))}else if(i===o._Z&&c===o.FT.LIMIT)if(m){var T=n.TriggerPrice+n.TriggerPrice*d;if(n.Price>T)return console.warn("maxPrice",T),f((0,a.t)("L0009315\u4e0b\u5355\u5931\u8d25\u4ef7\u683c\u4e0d\u5f97\u9ad8\u4e8e",{0:(0,s.formatDecimal)(T,h)}))}else{var x=n.TriggerPrice-n.TriggerPrice*g;if(n.Price<x)return console.warn("minPrice",x),f((0,a.t)("L0009316\u4e0b\u5355\u5931\u8d25\u4ef7\u683c\u4e0d\u5f97\u4f4e\u4e8e",{0:(0,s.formatDecimal)(x,h,"ceil")}))}return Promise.resolve()},d=function(e){var r,t=null===(r=e.current)||void 0===r?void 0:r.verifyAmount();return t.orderMessage?f(t.orderMessage):Promise.resolve()},g=function(e,r,t,n){if(e.TPTriggerPrice||e.SLTriggerPrice){var i=e.Price;if(r===o.F9&&(i=Number(t.LastPrice)),!(0,u.gN)(i,e.TPTriggerPrice,e.SLTriggerPrice,n,!1))return Promise.reject()}return Promise.resolve()},p=function(e){return""===e},h=function(e,r,t,n,i){if(i===o.X7.OPEN&&n!==o.Nm.BUY||i===o.X7.CLOSE&&n!==o.Nm.SELL)return f((0,a.t)("L0008302\u4e0b\u5355\u5931\u8d25\u6b62\u76c8\u6b62\u635f\u65b9\u5411\u4e0e\u5f00\u4ed3\u65b9\u5411"));if(!t.TPTriggerPrice&&!t.SLTriggerPrice)return Promise.resolve();if(n===o.Nm.BUY){if(!p(t.TPTriggerPrice)&&!p(t.SLTriggerPrice)&&t.TPTriggerPrice<=t.SLTriggerPrice||!p(t.TPTriggerPrice)&&t.TPTriggerPrice<=r||!p(t.SLTriggerPrice)&&t.SLTriggerPrice>=r){var c=(0,a.t)("L0008303\u4e0b\u5355\u5931\u8d25\u4e70\u5165\u591a\u5934\u6b62\u76c8\u8ba2\u5355\u4ef7\u683c\u5e94");return"position"===e&&(c=(0,a.t)("L0008305\u4ed3\u4f4d\u6b62\u76c8\u6b62\u635f\u8bbe\u7f6e\u5931\u8d25\u4e70\u5165\u591a\u5934\u4ed3")),f((0,a.t)(c))}}else if(!p(t.TPTriggerPrice)&&!p(t.SLTriggerPrice)&&t.TPTriggerPrice>=t.SLTriggerPrice||!p(t.TPTriggerPrice)&&t.TPTriggerPrice>=r||!p(t.SLTriggerPrice)&&t.SLTriggerPrice<=r){var s=(0,a.t)("L0008304\u4e0b\u5355\u5931\u8d25\u5356\u51fa\u7a7a\u5934\u6b62\u76c8\u8ba2\u5355\u4ef7\u683c\u5e94");return"position"===e&&(s=(0,a.t)("L0008306\u4ed3\u4f4d\u6b62\u76c8\u6b62\u635f\u8bbe\u7f6e\u5931\u8d25\u5356\u51fa\u7a7a\u5934\u4ed3")),f((0,a.t)(s))}return Promise.resolve()}},45053:function(e,r,t){"use strict";t.d(r,{Z:function(){return a},h:function(){return o}});var n=t(1783),i=t(98436),c=t(69348);function o(e,r,t){var i,o=(0,n.formatValue)(e,"VolumeMultiple",0),a=(0,n.formatValue)(t,"Position",0),s=r.MarkedPrice,l=t.OpenPrice,u=0;s&&l&&(i=t.Direction===c.Nm.BUY?s-l:l-s,u=e.IsInverse?a*o/l*i/s:a*o*i);return u}function a(e,r,t,c){var a=0;return c&&c.length>0&&c.forEach((function(c){var s=(0,n.formatValue)(e,c.InstrumentID,{}),l=(0,n.formatValue)(t,s.InstrumentID,{});if(s.ClearCurrency===r.ClearCurrency&&c.IsCrossMargin===i.JC.CROSS){var u=o(s,l,c);a+=u}})),a||0}},61894:function(e,r,t){"use strict";t.d(r,{BQ:function(){return l}});var n=t(50029),i=t(87794),c=t.n(i),o=t(93303),a=t(42626);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e.startsWith("http")&&!e.startsWith("https")&&!e.startsWith("wss")&&!e.startsWith("ws"))throw new Error("Domain is invalid, please edit file location.js.")}function l(){return u.apply(this,arguments)}function u(){return u=(0,n.default)(c().mark((function e(){var r,t,n,i=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>0&&void 0!==i[0]&&i[0],s(t="".concat((0,o.OB)().cfdWsHost,"?version=1.0.0")),!r){e.next=13;break}return e.prev=4,e.next=7,(0,a.ai)();case 7:n=e.sent,t+="&wsToken=".concat(n),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,null,[[4,11]])}))),u.apply(this,arguments)}},1783:function(e,r,t){"use strict";t.r(r),t.d(r,{formatBigNumber:function(){return f},formatDecimal:function(){return l},formatDecimalExcludeLTDecimal:function(){return u},formatPercent:function(){return m},formatThousands:function(){return s},formatUtcTimestampToLocalTime:function(){return d},formatValue:function(){return a},scaleTextSize:function(){return g}});var n=t(27484),i=t.n(n),c=t(83624),o=t(13012);function a(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"--";if((0,c.JY)(e)&&(0,c.JY)(r)){var n=e[r];if((0,c.JY)(n))return n}return t}function s(e){var r="".concat(e);if(r.indexOf(".")>-1){var t=r.split(".");return"".concat(t[0].replace(/(\d)(?=(\d{3})+$)/g,(function(e){return"".concat(e,",")})),".").concat(t[1])}return r.replace(/(\d)(?=(\d{3})+$)/g,(function(e){return"".concat(e,",")}))}function l(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"floor",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Number(e);if("--"!==e&&(0,c.hj)(i)&&i!==1/0&&i!==-1/0){var a;a=i<0?"floor"===t?Math.ceil:Math.floor:"floor"===t?Math.floor:Math.ceil;var l=new o.Z(i).times(Math.pow(10,15)).toFixed(0);l=a(new o.Z(l).div(Math.pow(10,15-r)).toNumber());var u=new o.Z(l).div(Math.pow(10,r)).toFixed(r);return n?u:s(u)}return e}function u(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"floor",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Number(e);return"--"!==e&&(0,c.hj)(i)?((String(e).split(".")||[])[1]||"").split("").length<=r?n?e:s(e):l(e,r,t,n):e}function f(e){var r=Number(e);return Number.isNaN(r)?e:e>1e6?"".concat(s(Math.floor(e/1e6)),"M"):e>1e3?"".concat(Math.floor(e/1e3),"K"):e}function m(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=Number(e);return"--"!==e&&(0,c.hj)(t)?"".concat(l(100*t,r),"%"):e}function d(e,r){return i()(1e3*e).format(r)}function g(e){var r=e.str,t=e.fontSize,n=e.scaleSize,i=e.maxLength;return r.length>=i?Math.floor(t/n):t}},45005:function(e,r,t){"use strict";var n=t(59499),i=t(4730),c=t(94055),o=(t(67294),t(19521)),a=t(85893),s=["children"];function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){(0,n.default)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var f=(0,o.ZP)(c.default).withConfig({displayName:"Tooltip",componentId:"sc-1ckqj7t-0"})([""]);r.Z=function(e){var r=e.children,t=(0,i.default)(e,s);return(0,a.jsx)(f,u(u({overlayClassName:"lbk-tooltip"},t),{},{children:(0,a.jsx)("span",{style:{cursor:"pointer"},children:r})}))}},40439:function(e,r,t){"use strict";var n=t(59499),i=t(4730),c=t(67294),o=t(19521),a=t(45005),s=t(85893),l=["children"];function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){(0,n.default)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var m=o.ZP.span.withConfig({displayName:"withTooltipText__TriggerText",componentId:"sc-1c9lpd8-0"})(["position:relative;&::after{content:' ';position:absolute;left:0;width:100%;bottom:-1px;border-bottom:1px dashed;}"]),d=function(e){var r=e.children,t=(0,i.default)(e,l);return(0,s.jsx)(a.Z,f(f({},t),{},{children:(0,s.jsx)(m,{children:r})}))};r.Z=(0,c.memo)(d)},62729:function(e){e.exports={"lbk-radio":"index_lbk-radio__WLt_h",baseline:"index_baseline__GBzTp","lbk-radio-icon":"index_lbk-radio-icon__FlnUO",fill:"index_fill__jOkK_",checked:"index_checked__G3Zcx"}},64336:function(e){e.exports={"contract-exchange-confirm-modal-symbol":"index_contract-exchange-confirm-modal-symbol__9rkf_","contract-exchange-confirm-modal-tag":"index_contract-exchange-confirm-modal-tag__ZPhRx","contract-exchange-confirm-modal-row":"index_contract-exchange-confirm-modal-row__zTWKr",value:"index_value__cCE22","contract-exchange-confirm-modal-input":"index_contract-exchange-confirm-modal-input__gYvYR","buy-rise-border-background-opacity-10":"index_buy-rise-border-background-opacity-10__MdakX","sell-fail-border-background-opacity-10":"index_sell-fail-border-background-opacity-10__j4a2J","buy-rise-color":"index_buy-rise-color__HbIM_","sell-fail-color":"index_sell-fail-color__pHu6L"}},4826:function(e){e.exports={button:"index_button__JhNh7","stop-limit":"index_stop-limit__7K50b","contract-exchange-confirm-modal-input":"index_contract-exchange-confirm-modal-input__ndPu_",select:"index_select__qgn0M","select-selector":"index_select-selector__aKUCM","select-selector-arrow":"index_select-selector-arrow__woOyI","select-drop-down-row":"index_select-drop-down-row__5Tsh8","stop-limit-helper":"index_stop-limit-helper__W349t"}}}]);